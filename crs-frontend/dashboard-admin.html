<!DOCTYPE html>
<html lang="fa" dir="rtl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>ุฏุงุดุจูุฑุฏ ูุฏุฑ โ ุณุงูุงูู ุงูุชุฎุงุจ ูุงุญุฏ</title>
    <link rel="stylesheet" href="css/dashboard-admin.css" />
  </head>
  <body>
    <div id="app" class="app-root">
      <!-- SIDEBAR -->
      <aside class="sidebar" id="sidebar" aria-label="ููู ุงุตู">
        <div class="brand">
          <div class="logo">
            <img
              src="images/logo.jpg"
              alt="University Logo"
              style="width: 100%; height: 100%; border-radius: 12px"
            />
          </div>
          <div class="brand-txt">
            <div class="title">ุณุงูุงูู ุงูุชุฎุงุจ ูุงุญุฏ</div>
            <div class="subtitle muted">ูพูู ูุฏุฑุช</div>
          </div>
        </div>

        <nav class="menu" role="navigation" aria-label="ูุงูุจุฑ ุงุตู">
          <button
            class="menu-item active"
            data-panel="overview"
            aria-pressed="true"
          >
            ๐ ููุง ฺฉู
          </button>
          <button class="menu-item" data-panel="lessons">๐ ูุฏุฑุช ุฏุฑูุณ</button>
          <button class="menu-item" data-panel="create-user">
            โ ุงูุฒูุฏู ฺฉุงุฑุจุฑ
          </button>
          <button class="menu-item" data-panel="profile">โ๏ธ ูพุฑููุงู</button>
        </nav>

        <div class="sidebar-footer">
          <div class="muted small">ูุณุฎู 1.0</div>
          <div class="muted small">ยฉ ุฏุงูุดฺฏุงู</div>
        </div>
      </aside>

      <!-- MAIN -->
      <div class="main-area">
        <!-- header -->
        <header class="topbar" role="banner">
          <div class="left">
            <button id="mobileToggle" class="icon-btn" aria-label="ููุงุด ููู">
              โฐ
            </button>
            <h1 id="pageTitle" class="page-title">ููุง ฺฉู</h1>
          </div>

          <div class="right">
            <div class="user-pill" id="userPill" aria-hidden="false">
              <div class="avatar" id="avatar">
                <img
                  src="images/avatar.jpg"
                  alt="User avatar"
                  style="width: 100%; height: 100%; border-radius: 10px"
                />
              </div>
              <div class="user-info">
                <div id="userName">ูุฏุฑ</div>
                <div class="muted small" id="userRole">ADMIN</div>
              </div>
            </div>
            <button id="btnLogout" class="btn ghost">ุฎุฑูุฌ</button>
          </div>
        </header>

        <!-- content (SPA panels) -->
        <main class="content" id="content" role="main">
          <!-- PANEL: OVERVIEW -->
          <section
            id="panel-overview"
            class="panel panel--active"
            aria-labelledby="pageTitle"
          >
            <div class="overview-grid">
              <div class="stat-card">
                <div class="stat-title">ุชุนุฏุงุฏ ุฏุฑูุณ</div>
                <div class="stat-value" id="statLessons">โ</div>
                <div class="stat-sub muted">ุฏุฑ ุณุณุชู ุซุจุช ุดุฏู</div>
              </div>

              <div class="stat-card">
                <div class="stat-title">ูุนุงูุชโูุง ุงุฎุฑ</div>
                <div id="activityList" class="activity-list muted">
                  ุฏุฑ ุญุงู ุจุงุฑฺฏุฐุงุฑ...
                </div>
              </div>
            </div>
          </section>

          <!-- PANEL: LESSONS -->
          <section id="panel-lessons" class="panel" style="display: none">
            <div class="panel-header">
              <h2>ูุฏุฑุช ุฏุฑูุณ</h2>
              <div class="panel-actions">
                <button id="refreshLessons" class="btn ghost">ุฑูุฑุด</button>
                <button id="openAddLesson" class="btn primary">
                  ุงุฌุงุฏ ุฏุฑุณ ุฌุฏุฏ
                </button>
              </div>
            </div>

            <div class="table-wrap" aria-live="polite">
              <table
                class="table"
                id="lessonsTable"
                role="table"
                aria-label="ูุณุช ุฏุฑูุณ"
              >
                <thead>
                  <tr>
                    <th scope="col">ุนููุงู ุฏุฑุณ</th>
                    <th scope="col">ูุงุญุฏ</th>
                    <th scope="col">ุงุฌุงุฏฺฉููุฏู</th>
                    <th scope="col">ููุน</th>
                    <th scope="col">ุฑุดุชู</th>
                    <th scope="col">ฺฉุฏ</th>
                    <th scope="col">ูพุด ูุงุฒ</th>
                    <th scope="col">ุชุงุฑุฎ ุงุฌุงุฏ</th>
                    <th scope="col">ุนููุงุช</th>
                  </tr>
                </thead>
                <tbody id="lessonsTbody">
                  <tr>
                    <td colspan="5" class="muted">ุฏุฑ ุญุงู ุจุงุฑฺฏุฐุงุฑ...</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </section>

          <!-- PANEL: CREATE USER -->
          <section id="panel-create-user" class="panel" style="display: none">
            <h2 style="margin-bottom: 14px">ุงูุฒูุฏู ฺฉุงุฑุจุฑ ุฌุฏุฏ</h2>
            <div class="card form-card" style="max-width: 820px; padding: 24px">
              <!-- Role -->
              <label class="label">ููุด ฺฉุงุฑุจุฑ</label>
              <select
                id="roleSelect"
                class="role-select"
                style="margin-bottom: 20px"
              >
                <option value="ADMIN">ูุฏุฑ</option>
                <option value="PROFESSOR">ุงุณุชุงุฏ</option>
                <option value="STUDENT" selected>ุฏุงูุดุฌู</option>
              </select>

              <!-- STEP INDICATOR -->
              <div
                class="steps-indicator"
                style="display: flex; gap: 8px; margin-bottom: 20px"
              >
                <div class="step-dot active-step" id="stepDot1">1</div>
                <div class="step-line"></div>
                <div class="step-dot" id="stepDot2">2</div>
                <div class="step-line"></div>
                <div class="step-dot" id="stepDot3">3</div>
              </div>

              <!-- STEP 1 -->
              <div class="step-panel" id="step1">
                <h3 class="muted" style="margin-bottom: 16px">
                  ฑ. ุงุทูุงุนุงุช ุดุฎุต
                </h3>

                <div class="grid2">
                  <div>
                    <label class="label">ูุงู</label>
                    <input id="uFirst" />
                  </div>
                  <div>
                    <label class="label">ูุงู ุฎุงููุงุฏฺฏ</label>
                    <input id="uLast" />
                  </div>
                  <div>
                    <label class="label">ูุงู ฺฉุงุฑุจุฑ</label>
                    <input id="uUsername" />
                  </div>
                  <div>
                    <label class="label">ุฌูุณุช</label>
                    <select id="uGender">
                      <option value="MALE">ูุฑุฏ</option>
                      <option value="FEMALE">ุฒู</option>
                    </select>
                  </div>
                  <div>
                    <label class="label">ฺฉุฏ ูู</label>
                    <input id="uNationalId" />
                  </div>
                </div>

                <div class="form-actions" style="margin-top: 20px">
                  <button id="goStep2" class="btn primary">ูุฑุญูู ุจุนุฏ</button>
                </div>
              </div>

              <!-- STEP 2 -->
              <div class="step-panel hidden" id="step2">
                <h3 class="muted" style="margin-bottom: 16px">
                  ฒ. ุงุทูุงุนุงุช ุชูุงุณ
                </h3>

                <div class="grid2">
                  <div>
                    <label class="label">ุดูุงุฑู ุชูุงุณ</label>
                    <input id="uPhone" />
                  </div>
                  <div style="grid-column: 1 / -1">
                    <label class="label">ุขุฏุฑุณ</label>
                    <textarea id="uAddress"></textarea>
                  </div>
                </div>

                <div class="form-actions" style="margin-top: 20px">
                  <button id="backStep1" class="btn ghost">ุจุงุฒฺฏุดุช</button>
                  <button id="goStep3" class="btn primary">ูุฑุญูู ุจุนุฏ</button>
                </div>
              </div>

              <!-- STEP 3 -->
              <div class="step-panel hidden" id="step3">
                <h3 class="muted" style="margin-bottom: 16px">
                  ณ. ุฑูุฒ ุนุจูุฑ ู ุงุทูุงุนุงุช ุชฺฉูู
                </h3>

                <div class="grid2">
                  <div>
                    <label class="label">ุฑูุฒ ุนุจูุฑ</label>
                    <input id="uPass" type="password" />
                  </div>
                  <div>
                    <label class="label">ุชฺฉุฑุงุฑ ุฑูุฒ ุนุจูุฑ</label>
                    <input id="uPass2" type="password" />
                  </div>

                  <!-- ููุฏูุง ุงุฎุชุตุงุต ุจุฑุง Professor ู Student -->
                  <div
                    id="professorFields"
                    style="display: none; grid-column: 1 / -1; margin-top: 8px"
                  >
                    <label class="label">ุฏุงูุดฺฉุฏู</label>
                    <input id="uFaculty" />

                    <label class="label">ุชุญุตูุงุช</label>
                    <input id="uEducation" />
                  </div>

                  <div
                    id="studentFields"
                    style="display: none; grid-column: 1 / -1; margin-top: 8px"
                  >
                    <label class="label">ุฑุดุชู</label>
                    <input id="uMajor" />
                  </div>
                </div>

                <div class="form-actions" style="margin-top: 20px">
                  <button id="backStep2" class="btn ghost">ุจุงุฒฺฏุดุช</button>
                  <button id="createUserBtn" class="btn primary">
                    ุงุฌุงุฏ ฺฉุงุฑุจุฑ
                  </button>
                </div>
              </div>
            </div>
          </section>

          <!-- PANEL: PROFILE -->
          <section id="panel-profile" class="panel" style="display: none">
            <h2>ูพุฑููุงู ูู</h2>
            <div class="card form-card">
              <label>ูุงู</label>
              <input id="profileFirst" type="text" />
              <label>ูุงู ุฎุงููุงุฏฺฏ</label>
              <input id="profileLast" type="text" />
              <label>ุฑูุฒ ูุนู</label>
              <input id="profileOld" type="password" />
              <label>ุฑูุฒ ุฌุฏุฏ</label>
              <input id="profileNew" type="password" />
              <div class="form-actions">
                <button id="changePassBtn" class="btn primary">
                  ุชุบุฑ ุฑูุฒ
                </button>
              </div>
            </div>
          </section>
        </main>
      </div>
    </div>

    <!-- MODALS -->
    <div
      id="overlay"
      class="overlay hidden"
      tabindex="-1"
      aria-hidden="true"
    ></div>

    <!-- Lesson Modal -->
    <div
      id="lessonModal"
      class="modal hidden"
      role="dialog"
      aria-modal="true"
      aria-labelledby="lessonModalTitle"
    >
      <div class="modal-card">
        <h3 id="lessonModalTitle">ุงุฌุงุฏ ุฏุฑุณ</h3>
        <label>ุนููุงู</label>
        <input id="mTitle" type="text" />
        <label>ูุงุญุฏ</label>
        <input id="mUnit" type="number" min="1" value="1" />
        <label for="mType">ููุน</label>
        <select id="mType">
          <option value="" selected disabled>ุงูุชุฎุงุจ ฺฉูุฏโฆ</option>
          <option value="GENERAL">ุนููู</option>
          <option value="SPECIALIZED">ุชุฎุตุต</option>
          <option value="LAB">ุขุฒูุงุดฺฏุงู</option>
          <option value="ELECTIVE">ุงุฎุชุงุฑ</option>
        </select>
        <label>ุฑุดุชู</label>
        <input id="mField" type="text" />
        <label>ฺฉุฏ</label>
        <input id="mLessonId" type="text" />
        <label for="mPrereq">ูพุดโูุงุฒูุง (ูุงุจู ุงูุชุฎุงุจ ฺูุฏฺฏุงูู)</label>
        <select id="mPrereq" multiple size="6"></select>
        <div class="modal-actions">
          <button id="closeLesson" class="btn ghost">ุงูุตุฑุงู</button>
          <button id="saveLesson" class="btn primary">ุฐุฎุฑู</button>
        </div>
      </div>
    </div>

    <!-- Delete Confirm Modal -->
    <div
      id="confirmModal"
      class="modal small hidden"
      role="alertdialog"
      aria-modal="true"
    >
      <div class="modal-card">
        <h3 id="confirmTitle">ุชุฃุฏ ุญุฐู</h3>
        <p id="confirmText">ุขุง ุงุฒ ุญุฐู ุงู ููุฑุฏ ูุทูุฆู ูุณุชุฏุ</p>
        <div class="modal-actions">
          <button id="cancelConfirm" class="btn ghost">ุฎุฑ</button>
          <button
            id="okConfirm"
            class="btn"
            style="background: #ef4444; color: white"
          >
            ุจููุ ุญุฐู ฺฉู
          </button>
        </div>
      </div>
    </div>

    <script src="js/dashboard-admin.js"></script>
  </body>
</html>
